"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/whatsapp";
exports.ids = ["pages/api/whatsapp"];
exports.modules = {

/***/ "gtts":
/*!***********************!*\
  !*** external "gtts" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("gtts");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "twilio":
/*!*************************!*\
  !*** external "twilio" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("twilio");

/***/ }),

/***/ "groq-sdk":
/*!***************************!*\
  !*** external "groq-sdk" ***!
  \***************************/
/***/ ((module) => {

module.exports = import("groq-sdk");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwhatsapp&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwhatsapp.js&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwhatsapp&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwhatsapp.js&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_whatsapp_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/whatsapp.js */ \"(api)/./pages/api/whatsapp.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_whatsapp_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_whatsapp_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_whatsapp_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_whatsapp_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/whatsapp\",\n        pathname: \"/api/whatsapp\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_whatsapp_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRndoYXRzYXBwJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ3aGF0c2FwcC5qcyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUNvRDtBQUNwRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsbURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG1EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3doYXRzYXBwQm90TXl0aG9sb2dpZXMvP2I3MTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS93aGF0c2FwcC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3doYXRzYXBwXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvd2hhdHNhcHBcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwhatsapp&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwhatsapp.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/whatsapp.js":
/*!*******************************!*\
  !*** ./pages/api/whatsapp.js ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var twilio__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! twilio */ \"twilio\");\n/* harmony import */ var twilio__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(twilio__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var groq_sdk__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! groq-sdk */ \"groq-sdk\");\n/* harmony import */ var gtts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! gtts */ \"gtts\");\n/* harmony import */ var gtts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(gtts__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_4__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([groq_sdk__WEBPACK_IMPORTED_MODULE_1__]);\ngroq_sdk__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Twilio REST client\nconst client = twilio__WEBPACK_IMPORTED_MODULE_0___default()(process.env.TWILIO_ACCOUNT_SID, process.env.TWILIO_AUTH_TOKEN);\nconst MessagingResponse = (twilio__WEBPACK_IMPORTED_MODULE_0___default().twiml).MessagingResponse;\nconst groq = new groq_sdk__WEBPACK_IMPORTED_MODULE_1__.Groq({\n    apiKey: process.env.GROQ_API_KEY,\n    timeout: 30000 // 30 second timeout\n});\n// Parse raw body for URL-encoded data\nconst getRawBody = async (req)=>{\n    const chunks = [];\n    for await (const chunk of req)chunks.push(chunk);\n    return Buffer.concat(chunks).toString(\"utf8\");\n};\n// Helper function to handle GROQ requests with timeout\nconst getGroqResponse = async (message)=>{\n    try {\n        const completion = await Promise.race([\n            groq.chat.completions.create({\n                messages: [\n                    {\n                        role: \"system\",\n                        content: \"You are an expert in Indian mythology. Provide brief, engaging explanations of mythological stories in 2-3 sentences. Focus on the most important aspects while maintaining authenticity.\"\n                    },\n                    {\n                        role: \"user\",\n                        content: `Tell me about this Indian mythology topic: ${message}`\n                    }\n                ],\n                model: \"llama-3.3-70b-versatile\",\n                temperature: 0.7,\n                max_tokens: 200,\n                top_p: 1\n            }),\n            new Promise((_, reject)=>setTimeout(()=>reject(new Error(\"GROQ request timeout\")), 25000))\n        ]);\n        return completion.choices[0].message.content;\n    } catch (error) {\n        console.error(\"GROQ Error:\", error);\n        throw error;\n    }\n};\n// Helper function to generate audio\nconst generateAudio = async (text)=>{\n    console.log(\"Starting audio generation process...\");\n    const filename = `audio_${Date.now()}.mp3`;\n    const publicDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), \"public\");\n    const outputPath = path__WEBPACK_IMPORTED_MODULE_3___default().join(publicDir, filename);\n    try {\n        console.log(\"Public directory path:\", publicDir);\n        console.log(\"Output file path:\", outputPath);\n        // Make sure public directory exists\n        if (!fs__WEBPACK_IMPORTED_MODULE_4___default().existsSync(publicDir)) {\n            console.log(\"Creating public directory...\");\n            fs__WEBPACK_IMPORTED_MODULE_4___default().mkdirSync(publicDir, {\n                recursive: true\n            });\n        }\n        // Initialize gTTS with the text and language\n        console.log(\"Initializing gTTS...\");\n        const gtts = new (gtts__WEBPACK_IMPORTED_MODULE_2___default())(text, \"en\");\n        // Save the audio file\n        console.log(\"Saving audio file...\");\n        await new Promise((resolve, reject)=>{\n            gtts.save(outputPath, (err)=>{\n                if (err) {\n                    console.error(\"Error saving audio:\", err);\n                    reject(err);\n                } else {\n                    console.log(\"Audio file saved successfully at:\", outputPath);\n                    console.log(\"File exists:\", fs__WEBPACK_IMPORTED_MODULE_4___default().existsSync(outputPath));\n                    resolve();\n                }\n            });\n        });\n        return {\n            filename,\n            success: true\n        };\n    } catch (error) {\n        console.error(\"Error generating audio:\", error);\n        return {\n            filename,\n            success: false,\n            error\n        };\n    }\n};\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    if (req.method === \"GET\") return res.status(200).send(\"WhatsApp bot running\");\n    // parse incoming webhook\n    const rawBody = await getRawBody(req);\n    const params = new URLSearchParams(rawBody);\n    const incomingMsg = params.get(\"Body\") || \"\";\n    const from = params.get(\"From\");\n    try {\n        // get text from GROQ\n        const mythologyContent = await getGroqResponse(incomingMsg);\n        // generate audio\n        const { filename, success } = await generateAudio(mythologyContent);\n        const mediaUrl = success ? [\n            `${process.env.BASE_URL}/${filename}`\n        ] : [];\n        // send message via Twilio REST API\n        await client.messages.create({\n            from: `whatsapp:${process.env.TWILIO_WHATSAPP_NUMBER}`,\n            to: from,\n            body: mythologyContent,\n            mediaUrl: mediaUrl\n        });\n        return res.status(200).end();\n    } catch (e) {\n        console.error(\"Error sending via REST API:\", e);\n        return res.status(500).end();\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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K0J5QztRQUM3QyxPQUFPakIsSUFBSUUsTUFBTSxDQUFDLEtBQUtjLEdBQUc7SUFDNUI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3doYXRzYXBwQm90TXl0aG9sb2dpZXMvLi9wYWdlcy9hcGkvd2hhdHNhcHAuanM/YjczYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHdpbGlvIGZyb20gJ3R3aWxpbyc7XG5pbXBvcnQgeyBHcm9xIH0gZnJvbSBcImdyb3Etc2RrXCI7XG5pbXBvcnQgZ1RUUyBmcm9tICdndHRzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcblxuLy8gVHdpbGlvIFJFU1QgY2xpZW50XG5jb25zdCBjbGllbnQgPSB0d2lsaW8oXG4gIHByb2Nlc3MuZW52LlRXSUxJT19BQ0NPVU5UX1NJRCxcbiAgcHJvY2Vzcy5lbnYuVFdJTElPX0FVVEhfVE9LRU5cbik7XG5cbmNvbnN0IE1lc3NhZ2luZ1Jlc3BvbnNlID0gdHdpbGlvLnR3aW1sLk1lc3NhZ2luZ1Jlc3BvbnNlO1xuY29uc3QgZ3JvcSA9IG5ldyBHcm9xKHtcbiAgYXBpS2V5OiBwcm9jZXNzLmVudi5HUk9RX0FQSV9LRVksXG4gIHRpbWVvdXQ6IDMwMDAwIC8vIDMwIHNlY29uZCB0aW1lb3V0XG59KTtcblxuLy8gUGFyc2UgcmF3IGJvZHkgZm9yIFVSTC1lbmNvZGVkIGRhdGFcbmNvbnN0IGdldFJhd0JvZHkgPSBhc3luYyAocmVxKSA9PiB7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHJlcSkgY2h1bmtzLnB1c2goY2h1bmspO1xuICByZXR1cm4gQnVmZmVyLmNvbmNhdChjaHVua3MpLnRvU3RyaW5nKCd1dGY4Jyk7XG59O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gaGFuZGxlIEdST1EgcmVxdWVzdHMgd2l0aCB0aW1lb3V0XG5jb25zdCBnZXRHcm9xUmVzcG9uc2UgPSBhc3luYyAobWVzc2FnZSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbXBsZXRpb24gPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgZ3JvcS5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XG4gICAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiWW91IGFyZSBhbiBleHBlcnQgaW4gSW5kaWFuIG15dGhvbG9neS4gUHJvdmlkZSBicmllZiwgZW5nYWdpbmcgZXhwbGFuYXRpb25zIG9mIG15dGhvbG9naWNhbCBzdG9yaWVzIGluIDItMyBzZW50ZW5jZXMuIEZvY3VzIG9uIHRoZSBtb3N0IGltcG9ydGFudCBhc3BlY3RzIHdoaWxlIG1haW50YWluaW5nIGF1dGhlbnRpY2l0eS5cIlxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcm9sZTogXCJ1c2VyXCIsXG4gICAgICAgICAgICBjb250ZW50OiBgVGVsbCBtZSBhYm91dCB0aGlzIEluZGlhbiBteXRob2xvZ3kgdG9waWM6ICR7bWVzc2FnZX1gXG4gICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBtb2RlbDogXCJsbGFtYS0zLjMtNzBiLXZlcnNhdGlsZVwiLFxuICAgICAgICB0ZW1wZXJhdHVyZTogMC43LFxuICAgICAgICBtYXhfdG9rZW5zOiAyMDAsICAvLyBTaG9ydGVyLCBtb3JlIGNvbmNpc2UgcmVzcG9uc2VzXG4gICAgICAgIHRvcF9wOiAxLFxuICAgICAgfSksXG4gICAgICBuZXcgUHJvbWlzZSgoXywgcmVqZWN0KSA9PlxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHJlamVjdChuZXcgRXJyb3IoJ0dST1EgcmVxdWVzdCB0aW1lb3V0JykpLCAyNTAwMClcbiAgICAgIClcbiAgICBdKTtcbiAgICByZXR1cm4gY29tcGxldGlvbi5jaG9pY2VzWzBdLm1lc3NhZ2UuY29udGVudDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdHUk9RIEVycm9yOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdlbmVyYXRlIGF1ZGlvXG5jb25zdCBnZW5lcmF0ZUF1ZGlvID0gYXN5bmMgKHRleHQpID0+IHtcbiAgY29uc29sZS5sb2coJ1N0YXJ0aW5nIGF1ZGlvIGdlbmVyYXRpb24gcHJvY2Vzcy4uLicpO1xuICBjb25zdCBmaWxlbmFtZSA9IGBhdWRpb18ke0RhdGUubm93KCl9Lm1wM2A7XG4gIGNvbnN0IHB1YmxpY0RpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJyk7XG4gIGNvbnN0IG91dHB1dFBhdGggPSBwYXRoLmpvaW4ocHVibGljRGlyLCBmaWxlbmFtZSk7XG4gIFxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKCdQdWJsaWMgZGlyZWN0b3J5IHBhdGg6JywgcHVibGljRGlyKTtcbiAgICBjb25zb2xlLmxvZygnT3V0cHV0IGZpbGUgcGF0aDonLCBvdXRwdXRQYXRoKTtcbiAgICBcbiAgICAvLyBNYWtlIHN1cmUgcHVibGljIGRpcmVjdG9yeSBleGlzdHNcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocHVibGljRGlyKSkge1xuICAgICAgY29uc29sZS5sb2coJ0NyZWF0aW5nIHB1YmxpYyBkaXJlY3RvcnkuLi4nKTtcbiAgICAgIGZzLm1rZGlyU3luYyhwdWJsaWNEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pO1xuICAgIH1cbiAgICBcbiAgICAvLyBJbml0aWFsaXplIGdUVFMgd2l0aCB0aGUgdGV4dCBhbmQgbGFuZ3VhZ2VcbiAgICBjb25zb2xlLmxvZygnSW5pdGlhbGl6aW5nIGdUVFMuLi4nKTtcbiAgICBjb25zdCBndHRzID0gbmV3IGdUVFModGV4dCwgJ2VuJyk7XG4gICAgXG4gICAgLy8gU2F2ZSB0aGUgYXVkaW8gZmlsZVxuICAgIGNvbnNvbGUubG9nKCdTYXZpbmcgYXVkaW8gZmlsZS4uLicpO1xuICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGd0dHMuc2F2ZShvdXRwdXRQYXRoLCAoZXJyKSA9PiB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYXVkaW86JywgZXJyKTtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygnQXVkaW8gZmlsZSBzYXZlZCBzdWNjZXNzZnVsbHkgYXQ6Jywgb3V0cHV0UGF0aCk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0ZpbGUgZXhpc3RzOicsIGZzLmV4aXN0c1N5bmMob3V0cHV0UGF0aCkpO1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHsgZmlsZW5hbWUsIHN1Y2Nlc3M6IHRydWUgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGF1ZGlvOicsIGVycm9yKTtcbiAgICByZXR1cm4geyBmaWxlbmFtZSwgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBjb25maWcgPSB7IGFwaTogeyBib2R5UGFyc2VyOiBmYWxzZSB9IH07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMpIHtcbiAgaWYgKHJlcS5tZXRob2QgPT09ICdHRVQnKSByZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoJ1doYXRzQXBwIGJvdCBydW5uaW5nJyk7XG5cbiAgLy8gcGFyc2UgaW5jb21pbmcgd2ViaG9va1xuICBjb25zdCByYXdCb2R5ID0gYXdhaXQgZ2V0UmF3Qm9keShyZXEpO1xuICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHJhd0JvZHkpO1xuICBjb25zdCBpbmNvbWluZ01zZyA9IHBhcmFtcy5nZXQoJ0JvZHknKSB8fCAnJztcbiAgY29uc3QgZnJvbSA9IHBhcmFtcy5nZXQoJ0Zyb20nKTtcblxuICB0cnkge1xuICAgIC8vIGdldCB0ZXh0IGZyb20gR1JPUVxuICAgIGNvbnN0IG15dGhvbG9neUNvbnRlbnQgPSBhd2FpdCBnZXRHcm9xUmVzcG9uc2UoaW5jb21pbmdNc2cpO1xuXG4gICAgLy8gZ2VuZXJhdGUgYXVkaW9cbiAgICBjb25zdCB7IGZpbGVuYW1lLCBzdWNjZXNzIH0gPSBhd2FpdCBnZW5lcmF0ZUF1ZGlvKG15dGhvbG9neUNvbnRlbnQpO1xuICAgIGNvbnN0IG1lZGlhVXJsID0gc3VjY2Vzc1xuICAgICAgPyBbYCR7cHJvY2Vzcy5lbnYuQkFTRV9VUkx9LyR7ZmlsZW5hbWV9YF1cbiAgICAgIDogW107XG5cbiAgICAvLyBzZW5kIG1lc3NhZ2UgdmlhIFR3aWxpbyBSRVNUIEFQSVxuICAgIGF3YWl0IGNsaWVudC5tZXNzYWdlcy5jcmVhdGUoe1xuICAgICAgZnJvbTogYHdoYXRzYXBwOiR7cHJvY2Vzcy5lbnYuVFdJTElPX1dIQVRTQVBQX05VTUJFUn1gLFxuICAgICAgdG86IGZyb20sXG4gICAgICBib2R5OiBteXRob2xvZ3lDb250ZW50LFxuICAgICAgbWVkaWFVcmw6IG1lZGlhVXJsXG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmVuZCgpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyB2aWEgUkVTVCBBUEk6JywgZSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInR3aWxpbyIsIkdyb3EiLCJnVFRTIiwicGF0aCIsImZzIiwiY2xpZW50IiwicHJvY2VzcyIsImVudiIsIlRXSUxJT19BQ0NPVU5UX1NJRCIsIlRXSUxJT19BVVRIX1RPS0VOIiwiTWVzc2FnaW5nUmVzcG9uc2UiLCJ0d2ltbCIsImdyb3EiLCJhcGlLZXkiLCJHUk9RX0FQSV9LRVkiLCJ0aW1lb3V0IiwiZ2V0UmF3Qm9keSIsInJlcSIsImNodW5rcyIsImNodW5rIiwicHVzaCIsIkJ1ZmZlciIsImNvbmNhdCIsInRvU3RyaW5nIiwiZ2V0R3JvcVJlc3BvbnNlIiwibWVzc2FnZSIsImNvbXBsZXRpb24iLCJQcm9taXNlIiwicmFjZSIsImNoYXQiLCJjb21wbGV0aW9ucyIsImNyZWF0ZSIsIm1lc3NhZ2VzIiwicm9sZSIsImNvbnRlbnQiLCJtb2RlbCIsInRlbXBlcmF0dXJlIiwibWF4X3Rva2VucyIsInRvcF9wIiwiXyIsInJlamVjdCIsInNldFRpbWVvdXQiLCJFcnJvciIsImNob2ljZXMiLCJlcnJvciIsImNvbnNvbGUiLCJnZW5lcmF0ZUF1ZGlvIiwidGV4dCIsImxvZyIsImZpbGVuYW1lIiwiRGF0ZSIsIm5vdyIsInB1YmxpY0RpciIsImpvaW4iLCJjd2QiLCJvdXRwdXRQYXRoIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsImd0dHMiLCJyZXNvbHZlIiwic2F2ZSIsImVyciIsInN1Y2Nlc3MiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiaGFuZGxlciIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsInNlbmQiLCJyYXdCb2R5IiwicGFyYW1zIiwiVVJMU2VhcmNoUGFyYW1zIiwiaW5jb21pbmdNc2ciLCJnZXQiLCJmcm9tIiwibXl0aG9sb2d5Q29udGVudCIsIm1lZGlhVXJsIiwiQkFTRV9VUkwiLCJUV0lMSU9fV0hBVFNBUFBfTlVNQkVSIiwidG8iLCJib2R5IiwiZW5kIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./pages/api/whatsapp.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fwhatsapp&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fwhatsapp.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();